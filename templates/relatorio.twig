{% extends 'base.twig' %}

{% block title %} Relatórios {% endblock %}
{% block content %}

    {% include 'menu.twig' %}

    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
        <h1 class="display-4">Relatório</h1>
    </div>

    <div class="container">

        <form action="/sistema/relatorios" method="GET">
            <div class="row">
                <div class="form-group col-md-3" style="margin: 0 auto">
                    <label for="dataInicial">Data Inicial</label>
                    <input type="text" class="form-control datepicker" id="dataInicial" name="dataInicial" required>
                </div>
                <div class="form-group col-md-3" style="margin: 0 auto">
                    <label for="dataFinal">Data Final</label>
                    <input type="text" class="form-control datepicker" id="dataFinal" name="dataFinal" required>
                </div>
                <div class="col-md-12 text-center">
                    <button type="submit" class="btn btn-primary" style="margin: 25px 0 50px 0">Gerar Relatório</button>
                </div>
            </div>
        </form>


        <div class="row">
            <div class="col-md-5 text-center" style="margin: 0 auto">
                <p>Empresa por Período</p>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">Empresa</th>
                        <th scope="col">Nº Chamados</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for empresa in empresas %}
                        <tr>
                            <td>{{ empresa.nome }}</td>
                            <td>{{ empresa.total }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-md-5 text-center" style="margin: 0 auto">
                <p>Módulo por Período</p>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">Modulo</th>
                        <th scope="col">Nº chamados</th>

                    </tr>
                    </thead>
                    <tbody>
                    {% for modulo in modulos %}
                        <tr>
                            <td>{{ modulo.nome }}</td>
                            <td>{{ modulo.total }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <script>
        $(document).ready(function () {
            $('.datepicker').datepicker({
                format: 'yyyy-mm-dd'
            });
        });
    </script>
{% endblock %}